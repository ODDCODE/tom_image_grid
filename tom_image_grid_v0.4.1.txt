# Name: tom_image_grid v0.4.1 
# Type: Admin plugin
# An optionnal grid display for images tab
# Author: Thomas Jund
# URL: http://sacripant.fr
# Recommended load order: 5

# .....................................................................
# This is a plugin for Textpattern CMS - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# .....................................................................

YToxNTp7czo0OiJuYW1lIjtzOjE0OiJ0b21faW1hZ2VfZ3JpZCI7czo3OiJ2ZXJzaW9uIjtz
OjU6IjAuNC4xIjtzOjg6InJldmlzaW9uIjtzOjA6IiI7czo2OiJhdXRob3IiO3M6MTE6IlRo
b21hcyBKdW5kIjtzOjEwOiJhdXRob3JfdXJpIjtzOjE5OiJodHRwOi8vc2FjcmlwYW50LmZy
IjtzOjExOiJkZXNjcmlwdGlvbiI7czo0MDoiQW4gb3B0aW9ubmFsIGdyaWQgZGlzcGxheSBm
b3IgaW1hZ2VzIHRhYiI7czo1OiJvcmRlciI7czoxOiI1IjtzOjQ6InR5cGUiO3M6MToiMyI7
czo1OiJmbGFncyI7czowOiIiO3M6ODoidGV4dHBhY2siO3M6MDoiIjtzOjEwOiJsb2FkX29y
ZGVyIjtzOjE6IjUiO3M6NDoiaGVscCI7czoyMDE1OiI8aDE+dG9tX2ltYWdlX2dyaWQgMC40
PC9oMT4KCjxwPjxlbT50b21faW1hZ2VfZ3JpZDwvZW0+IGlzIGEgcGx1Z2luIGZvciBUZXh0
cGF0dGVybiA0LjYuKiA8c3BhbiBjbGFzcz0iY2FwcyI+Q01TPC9zcGFuPi4gSXQgYWxsb3dz
IGEgbW9yZSBjb21wYWN0IGRpc3BsYXkgKGFzIGEgZ3JpZCkgb2YgdGhlIGltYWdlcyBsaXN0
LjwvcD4KCjxwPlRoZSBwbHVnaW4gYWRkcyB0d28gYnV0dG9uczxiciAvPgo8aW1nIGFsdD0i
IiBzcmM9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlN
UzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0TkNqd2hSRTlEVkZsUVJTQnpkbWNnVUZW
Q1RFbERJQ0l0THk5WE0wTXZMMFJVUkNCVFZrY2dNUzR4THk5RlRpSWdJbWgwZEhBNkx5OTNk
M2N1ZHpNdWIzSm5MMGR5WVhCb2FXTnpMMU5XUnk4eExqRXZSRlJFTDNOMlp6RXhMbVIwWkNJ
K0RRbzhjM1puSUhabGNuTnBiMjQ5SWpFdU1TSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vk
ek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3pwNGJHbHVhejBpYUhSMGNEb3ZMM2QzZHk1
M015NXZjbWN2TVRrNU9TOTRiR2x1YXlJZ2VEMGlNSEI0SWlCNVBTSXdjSGdpSUhkcFpIUm9Q
U0l5TUhCNElpQm9aV2xuYUhROUlqSXdjSGdpSUhacFpYZENiM2c5SWpBZ01DQXlNQ0F5TUNJ
K0RRbzhaeUJwWkQwaVozSnBaQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJ
Q016TXpNaVBnMEtJQ0FnSUR4eVpXTjBJSGc5SWpNaUlDQjVQU0l6SWlBZ2QybGtkR2c5SWpZ
aUlHaGxhV2RvZEQwaU5pSXZQZzBLSUNBZ0lEeHlaV04wSUhnOUlqTWlJQ0I1UFNJeE1pSWdk
MmxrZEdnOUlqWWlJR2hsYVdkb2REMGlOaUl2UGcwS0lDQWdJRHh5WldOMElIZzlJakV5SWlC
NVBTSXhNaUlnZDJsa2RHZzlJallpSUdobGFXZG9kRDBpTmlJdlBnMEtJQ0FnSUR4eVpXTjBJ
SGc5SWpFeUlpQjVQU0l6SWlBZ2QybGtkR2c5SWpZaUlHaGxhV2RvZEQwaU5pSXZQZzBLUEM5
blBnMEtQQzl6ZG1jK0RRbz0iIC8+IDxpbWcgYWx0PSIiIHNyYz0iZGF0YTppbWFnZS9zdmcr
eG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhS
bUxUZ2lQejROQ2p3aFJFOURWRmxRUlNCemRtY2dVRlZDVEVsRElDSXRMeTlYTTBNdkwwUlVS
Q0JUVmtjZ01TNHhMeTlGVGlJZ0ltaDBkSEE2THk5M2QzY3Vkek11YjNKbkwwZHlZWEJvYVdO
ekwxTldSeTh4TGpFdlJGUkVMM04yWnpFeExtUjBaQ0krRFFvOGMzWm5JSFpsY25OcGIyNDlJ
akV1TVNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlC
NGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVh
eUlnZUQwaU1IQjRJaUI1UFNJd2NIZ2lJSGRwWkhSb1BTSXlNSEI0SWlCb1pXbG5hSFE5SWpJ
d2NIZ2lJSFpwWlhkQ2IzZzlJakFnTUNBeU1DQXlNQ0krRFFvOFp5QnBaRDBpYkdsdVpTSStE
UW9nSUNBZ1BISmxZM1FnZUQwaU1TSWdlVDBpTVRVaUlIZHBaSFJvUFNJeklpQm9aV2xuYUhR
OUlqTWlMejROQ2lBZ0lDQThjbVZqZENCNFBTSXhJaUI1UFNJNUlpQWdkMmxrZEdnOUlqTWlJ
R2hsYVdkb2REMGlNeUl2UGcwS0lDQWdJRHh5WldOMElIZzlJakVpSUhrOUlqTWlJQ0IzYVdS
MGFEMGlNeUlnYUdWcFoyaDBQU0l6SWk4K0RRb2dJQ0FnUEhKbFkzUWdlRDBpTmlJZ2VUMGlN
VFVpSUhkcFpIUm9QU0l4TXlJZ2FHVnBaMmgwUFNJeklpOCtEUW9nSUNBZ1BISmxZM1FnZUQw
aU5pSWdlVDBpT1NJZ0lIZHBaSFJvUFNJeE15SWdhR1ZwWjJoMFBTSXpJaTgrRFFvZ0lDQWdQ
SEpsWTNRZ2VEMGlOaUlnZVQwaU15SWdJSGRwWkhSb1BTSXhNeUlnYUdWcFoyaDBQU0l6SWk4
K0RRbzhMMmMrRFFvOEwzTjJaejROQ2c9PSIgLz48YnIgLz4KaW4gdGhlIEltYWdlIFRhYiBv
ZiB5b3VyIGJhY2stb2ZmaWNlIGFsbG93aW5nIHlvdSB0byBzd2l0Y2ggZnJvbSB0aGUgc3Rh
bmRhcmQgZGlzcGxheSB0byBhIG1vcmUgY29tcGFjdCBncmlkIGRpc3BsYXkuPC9wPiI7czoz
OiJjc3MiO3M6MDoiIjtzOjQ6ImNvZGUiO3M6NjcyODoiaWYgKEB0eHBpbnRlcmZhY2UgPT0g
J2FkbWluJykgewogICAgcmVnaXN0ZXJfY2FsbGJhY2soICd0b21faW1hZ2VfZ3JpZF9tYXJr
dXAnLCAnaW1hZ2VfdWknLCAnZXh0ZW5kX2NvbnRyb2xzJyk7CiAgICByZWdpc3Rlcl9jYWxs
YmFjayggJ3RvbV9pbWFnZV9ncmlkX2NzcycsICJpbWFnZSIpOwogICAgcmVnaXN0ZXJfY2Fs
bGJhY2soICd0b21faW1hZ2VfZ3JpZF9qcycsICJpbWFnZSIpOwp9CgpmdW5jdGlvbiB0b21f
aW1hZ2VfZ3JpZF9tYXJrdXAoKQp7CiAgICAkb3V0ID0gPDw8SFRNTAoKPGZvcm0gaWQ9InRv
bV9pZ19vcHRpb25zIj4KICAgIDxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InRv
bV9pZ19vcHRpb24iIGlkPSJ0b21faWdfb3B0aW9uLS1ncmlkIiAvPjxzcGFuIGNsYXNzPSJ0
b21faWdfaWNvbi1ncmlkIj5HcmlkPC9zcGFuPjwvbGFiZWw+CiAgICA8bGFiZWw+PGlucHV0
IHR5cGU9InJhZGlvIiBuYW1lPSJ0b21faWdfb3B0aW9uIiBpZD0idG9tX2lnX29wdGlvbi0t
bGluZSIgLz48c3BhbiBjbGFzcz0idG9tX2lnX2ljb24tbGluZSI+TGluZTwvc3Bhbj48L2xh
YmVsPgo8L2Zvcm0+CkhUTUw7CiAgICBlY2hvICRvdXQ7Cn0KCmZ1bmN0aW9uIHRvbV9pbWFn
ZV9ncmlkX2NzcygpCnsKICAgICRzb3J0YnkgPSBnVHh0KCdzb3J0X2J5Jyk7CiAgICAkb3V0
ID0gPDw8Q1NTCgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgovKgoqKiBDU1MgZm9yIHRvbV9p
bWFnZV9ncmlkIHBsdWdpbgoqKiBCeSBTYWNyaXBhbnQg4oCUIFRob21hcyBKdW5kCioqIGh0
dHA6Ly9zYWNyaXBhbnQuZnIKKi8KCi50b21faWcgLnR4cC1saXN0ICogewogICAgLW1vei1i
b3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQou
dG9tX2lnIC50eHAtbGlzdHRhYmxlcyB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnRvbV9p
ZyNwYWdlLWltYWdlIC50eHAtbGlzdCB0aGVhZCB0aCB7CiAgICAvKmRpc3BsYXk6IG5vbmU7
Ki8KICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsK
ICAgIHdpZHRoOiBhdXRvOwoKfQoudG9tX2lnI3BhZ2UtaW1hZ2UgLnR4cC1saXN0IHRoZWFk
IHRoLmltYWdlc19kZXRhaWwgewogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9Ci50
b21faWcjcGFnZS1pbWFnZSAudHhwLWxpc3QgdGhlYWQgdGgudHhwLWxpc3QtY29sLW11bHRp
LWVkaXQgewogICAgbWFyZ2luLXJpZ2h0OiAxZW07Cn0KLnRvbV9pZyNwYWdlLWltYWdlIC50
eHAtbGlzdCB0aGVhZCB0aC50eHAtbGlzdC1jb2wtbXVsdGktZWRpdDphZnRlciB7CiAgICBj
b250ZW50OiBhdHRyKHRpdGxlKTsKICAgIHBhZGRpbmctbGVmdDogLjMzZW07Cn0KCi50b21f
aWcjcGFnZS1pbWFnZSAudHhwLWxpc3QgdGhlYWQgdGgudHhwLWxpc3QtY29sLWlkIHsKICAg
IG1hcmdpbi1sZWZ0OiAzLjZlbTsKfQoudG9tX2lnI3BhZ2UtaW1hZ2UgLnR4cC1saXN0IHRo
ZWFkIHRoLnR4cC1saXN0LWNvbC1pZDpiZWZvcmUgewogICAgY29udGVudDogIlNvcnQgYnki
OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBwYWRkaW5nOiBpbmhlcml0OwogICAgcGFkZGlu
Zy1sZWZ0OiAwOwogICAgcGFkZGluZy1yaWdodDogLjMzZW07CgogICAgcG9zaXRpb246IGFi
c29sdXRlOwogICAgd2lkdGg6IDMuNmVtOwogICAgcmlnaHQ6IDEwMCU7CiAgICB0b3A6IDA7
CgogICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICBmb250LXdlaWdodDogbm9ybWFsOwp9CgoK
LnRvbV9pZyNwYWdlLWltYWdlIC50eHAtbGlzdCB0Ym9keSB0ciB7CiAgICBkaXNwbGF5OiBp
bmxpbmUtYmxvY2s7CiAgICAvKnZlcnRpY2FsLWFsaWduOiBtaWQ7Ki8KICAgIHdpZHRoOiAx
NWVtOwogICAgbWFyZ2luOiAuNjZlbSAxZW0gMCAwCn0KCi50b21faWcjcGFnZS1pbWFnZSAu
dHhwLWxpc3QgdGJvZHkgdGQsCi50b21faWcjcGFnZS1pbWFnZSAudHhwLWxpc3QgdGJvZHkg
dGggewogICAgZGlzcGxheTogYmxvY2s7CiAgICBwYWRkaW5nOiAwLjE2ZW0gMC4zM2VtOwog
ICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAg
d2hpdGUtc3BhY2U6IG5vd3JhcDsKfQoKLnRvbV9pZyNwYWdlLWltYWdlIC50eHAtbGlzdCB0
ZC50eHAtbGlzdC1jb2wtbXVsdGktZWRpdCB7CiAgICBmbG9hdDogcmlnaHQ7CiAgICB3aWR0
aDogYXV0bzsKfQoudG9tX2lnI3BhZ2UtaW1hZ2UgLnR4cC1saXN0IHRkLnR4cC1saXN0LWNv
bC1tdWx0aS1lZGl0IGlucHV0IHsKICAgIG1hcmdpbi1ib3R0b206IDA7Cn0KCi50b21faWcj
cGFnZS1pbWFnZSAudHhwLWxpc3QgdGQudHhwLWxpc3QtY29sLXRodW1ibmFpbCB7CiAgICBo
ZWlnaHQ6IDEyZW07Cn0KCi50b21faWcjcGFnZS1pbWFnZSAudHhwLWxpc3QgdGQudHhwLWxp
c3QtY29sLXRodW1ibmFpbCBpbWcgewogICAgbWF4LXdpZHRoOiAxMDAlOwogICAgbWF4LWhl
aWdodDogMTAwJTsKICAgIGhlaWdodDogYXV0bzsKICAgIHdpZHRoOiBhdXRvOwp9CgovKiBO
byB0aHVtYm5haWwgZGlzcGxheSAqLwoudG9tX2lnI3BhZ2UtaW1hZ2UgLnR4cC1saXN0IHRk
LnR4cC1saXN0LWNvbC10aHVtYm5haWw6bm90KC5oYXMtdGh1bWJuYWlsKSB7CiAgICBkaXNw
bGF5OiBibG9jazsKICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7CiAgICB0ZXh0LWFsaWdu
OiBjZW50ZXI7CgogICAgaGVpZ2h0OiAxMDAlOwogICAgd2lkdGg6IDEwMCU7CiAgICBib3Jk
ZXItd2lkdGg6IDUuMjVlbSA1LjVlbTsKICAgIGJvcmRlci1zdHlsZTogc29saWQ7CiAgICBi
b3JkZXItdG9wLWNvbG9yOiAjZWVlOwogICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2VlZTsK
ICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjZGRkOwogICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAj
ZGRkOwp9CgoKCkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDgwcHgpIHsK
ICAgIC50b21faWcjcGFnZS1pbWFnZSAudHhwLWxpc3QgdGJvZHkgdHIgewogICAgICAgIHdp
ZHRoOiAxNDBweDsKICAgICAgICBtYXJnaW46IC42NmVtIC4zM2VtIDAgMDsKICAgIH0KCiAg
ICAudG9tX2lnI3BhZ2UtaW1hZ2UgLnR4cC1saXN0IHRkLnRodW1ibmFpbCB7CiAgICAgICAg
aGVpZ2h0OiAxMTJweDsKICAgIH0KCiAgICAudG9tX2lnIC50b21faWctLW5vVGh1bWIgewog
ICAgICAgIGJvcmRlci13aWR0aDogNDVweCA0MHB4OwogICAgfQoKCn0KCi8qYnV0dG9ucwot
LS0tLS0tLS0tKi8KCiN0b21faWdfb3B0aW9ucyBpbnB1dCB7CiAgICBkaXNwbGF5OiBub25l
Owp9CgojdG9tX2lnX29wdGlvbnMgbGFiZWwgewogICAgcGFkZGluZzogLjE2ZW07CiAgICBk
aXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVu
dDsKICAgIHdpZHRoOiAyMHB4OwogICAgaGVpZ2h0OiAyMHB4OwogICAgb3ZlcmZsb3c6IGhp
ZGRlbjsKfQojdG9tX2lnX29wdGlvbnMgbGFiZWwuc2VsZWN0ZWQgewogICAgYm9yZGVyLWNv
bG9yOiAjYWFhOwp9CiN0b21faWdfb3B0aW9ucyBsYWJlbDpub3QoLnNlbGVjdGVkKTpob3Zl
ciB7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlOwp9
Ci50b21faWdfaWNvbi1ncmlkOmJlZm9yZSB7CiAgICBjb250ZW50OiB1cmwoImRhdGE6aW1h
Z2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1
WnowaWRYUm1MVGdpUHo0TkNqd2hSRTlEVkZsUVJTQnpkbWNnVUZWQ1RFbERJQ0l0THk5WE0w
TXZMMFJVUkNCVFZrY2dNUzR4THk5RlRpSWdJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MMGR5
WVhCb2FXTnpMMU5XUnk4eExqRXZSRlJFTDNOMlp6RXhMbVIwWkNJK0RRbzhjM1puSUhabGNu
TnBiMjQ5SWpFdU1TSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2
YzNabklpQjRiV3h1Y3pwNGJHbHVhejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9T
OTRiR2x1YXlJZ2VEMGlNSEI0SWlCNVBTSXdjSGdpSUhkcFpIUm9QU0l5TUhCNElpQm9aV2xu
YUhROUlqSXdjSGdpSUhacFpYZENiM2c5SWpBZ01DQXlNQ0F5TUNJK0RRbzhaeUJwWkQwaVoz
SnBaQ0lnYzNSNWJHVTlJbUpoWTJ0bmNtOTFibVF0WTI5c2IzSTZJQ016TXpNaVBnMEtJQ0Fn
SUR4eVpXTjBJSGc5SWpNaUlDQjVQU0l6SWlBZ2QybGtkR2c5SWpZaUlHaGxhV2RvZEQwaU5p
SXZQZzBLSUNBZ0lEeHlaV04wSUhnOUlqTWlJQ0I1UFNJeE1pSWdkMmxrZEdnOUlqWWlJR2hs
YVdkb2REMGlOaUl2UGcwS0lDQWdJRHh5WldOMElIZzlJakV5SWlCNVBTSXhNaUlnZDJsa2RH
ZzlJallpSUdobGFXZG9kRDBpTmlJdlBnMEtJQ0FnSUR4eVpXTjBJSGc5SWpFeUlpQjVQU0l6
SWlBZ2QybGtkR2c5SWpZaUlHaGxhV2RvZEQwaU5pSXZQZzBLUEM5blBnMEtQQzl6ZG1jK0RR
bz0iKTsKfQoudG9tX2lnX2ljb24tbGluZTpiZWZvcmUgewogICAgY29udGVudDogdXJsKCJk
YXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxi
bU52WkdsdVp6MGlkWFJtTFRnaVB6NE5DandoUkU5RFZGbFFSU0J6ZG1jZ1VGVkNURWxESUNJ
dEx5OVhNME12TDBSVVJDQlRWa2NnTVM0eEx5OUZUaUlnSW1oMGRIQTZMeTkzZDNjdWR6TXVi
M0puTDBkeVlYQm9hV056TDFOV1J5OHhMakV2UkZSRUwzTjJaekV4TG1SMFpDSStEUW84YzNa
bklIWmxjbk5wYjI0OUlqRXVNU0lnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5M
ekl3TURBdmMzWm5JaUI0Yld4dWN6cDRiR2x1YXowaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21j
dk1UazVPUzk0YkdsdWF5SWdlRDBpTUhCNElpQjVQU0l3Y0hnaUlIZHBaSFJvUFNJeU1IQjRJ
aUJvWldsbmFIUTlJakl3Y0hnaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TUNBeU1DSStEUW84WnlC
cFpEMGliR2x1WlNJK0RRb2dJQ0FnUEhKbFkzUWdlRDBpTVNJZ2VUMGlNVFVpSUhkcFpIUm9Q
U0l6SWlCb1pXbG5hSFE5SWpNaUx6NE5DaUFnSUNBOGNtVmpkQ0I0UFNJeElpQjVQU0k1SWlB
Z2QybGtkR2c5SWpNaUlHaGxhV2RvZEQwaU15SXZQZzBLSUNBZ0lEeHlaV04wSUhnOUlqRWlJ
SGs5SWpNaUlDQjNhV1IwYUQwaU15SWdhR1ZwWjJoMFBTSXpJaTgrRFFvZ0lDQWdQSEpsWTNR
Z2VEMGlOaUlnZVQwaU1UVWlJSGRwWkhSb1BTSXhNeUlnYUdWcFoyaDBQU0l6SWk4K0RRb2dJ
Q0FnUEhKbFkzUWdlRDBpTmlJZ2VUMGlPU0lnSUhkcFpIUm9QU0l4TXlJZ2FHVnBaMmgwUFNJ
eklpOCtEUW9nSUNBZ1BISmxZM1FnZUQwaU5pSWdlVDBpTXlJZ0lIZHBaSFJvUFNJeE15SWdh
R1ZwWjJoMFBTSXpJaTgrRFFvOEwyYytEUW84TDNOMlp6NE5DZz09Iik7Cn0KCjwvc3R5bGU+
CkNTUzsKICAgIGVjaG8gJG91dDsKfQoKZnVuY3Rpb24gdG9tX2ltYWdlX2dyaWRfanMoKQp7
CiAgICAkb3V0ID0gPDw8SlMKCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KLyoK
KiogSlMgZm9yIHRvbV9pbWFnZV9ncmlkIHBsdWdpbgoqKiBCeSBTYWNyaXBhbnQg4oCUIFRo
b21hcyBKdW5kCioqIGh0dHA6Ly9zYWNyaXBhbnQuZnIKKi8KCiQoZnVuY3Rpb24oKSB7CiAg
ICB2YXIgaW1hZ2VEaXNwbGF5T3B0aW9uID0gJCgiI3RvbV9pZ19vcHRpb25zIikKICAgICwg
ICByYWRpb3MgPSAkKCdpbnB1dCcsIGltYWdlRGlzcGxheU9wdGlvbikKICAgICwgICBsaXN0
dGFibGVzID0gJCgnI2ltYWdlc19mb3JtIC50eHAtbGlzdHRhYmxlcycpCiAgICAvKiwgICBp
bWFnZXNUciA9ICQoJ3RyJywgbGlzdHRhYmxlcykqLwogICAgLCAgIGNvb2tpZSA9ICd0b21f
aW1hZ2VfZ3JpZCcKICAgICwgICBjb29raWVWYWx1ZSA9IGdldENvb2tpZShjb29raWUpCiAg
ICA7CgoKICAgIC8vIEFkZCByYWRpb3MgaW4gdGFiCiAgICBpbWFnZURpc3BsYXlPcHRpb24u
cHJlcGVuZFRvKGxpc3R0YWJsZXMpOwoKCiAgICAvLyBDaGFuZ2UgTGF5b3V0IHdoZW4gcmFk
aW8gY2hlY2tlZAogICAgcmFkaW9zLmNoYW5nZShmdW5jdGlvbihldmVudCkKICAgIHsKICAg
ICAgICBpZiAoIHRoaXMuaWQgPT09ICJ0b21faWdfb3B0aW9uLS1ncmlkIikKICAgICAgICB7
CiAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygndG9tX2lnJyk7CiAgICAgICAgICAg
IHNldENvb2tpZShjb29raWUsICd0b21faWdfb3B0aW9uLS1ncmlkJyk7CiAgICAgICAgfQog
ICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFz
cygndG9tX2lnJyk7CiAgICAgICAgICAgIHNldENvb2tpZShjb29raWUsICd0b21faWdfb3B0
aW9uLS1saW5lJykKICAgICAgICB9CgogICAgICAgIHJhZGlvcy5wYXJlbnQoKS5yZW1vdmVD
bGFzcygnc2VsZWN0ZWQnKTsKICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdz
ZWxlY3RlZCcpOwogICAgfSk7CgogICAgLy8gQ2hlY2sgJiBjcmVhdGUgY29va2llCiAgICBp
ZiAoIGNvb2tpZVZhbHVlICkKICAgIHsKICAgICAgICB2YXIgdGFyZ2V0UmFkaW8gPSBkb2N1
bWVudC5nZXRFbGVtZW50QnlJZChjb29raWVWYWx1ZSk7CiAgICB9CiAgICBlbHNlCiAgICB7
CiAgICAgICAgdmFyIHRhcmdldFJhZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rv
bV9pZ19vcHRpb24tLWxpbmUnKTsKICAgICAgICBzZXRDb29raWUoY29va2llLCAndG9tX2ln
X29wdGlvbi0tbGluZScpCiAgICB9OwoKICAgICQodGFyZ2V0UmFkaW8pLnByb3AoJ2NoZWNr
ZWQnLCB0cnVlKS50cmlnZ2VyKCJjaGFuZ2UiKTsKfSk7Cjwvc2NyaXB0PgoKSlM7CiAgICBl
Y2hvICRvdXQ7Cn0iO3M6MzoibWQ1IjtzOjMyOiIxZjYzYzYxYTU3NmI5OTEzZTcyNTRjN2Ez
Njk1YWYyNiI7fQ==
